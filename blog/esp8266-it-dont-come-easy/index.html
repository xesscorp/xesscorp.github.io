<!doctype html>
<html lang="en">

<head>

<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width">
<meta name="keywords" content="">
<meta name="description" content="Nobody ever accused Ringo of being the smartest Beatle, but he sure nailed that particular bit of philosophy: It don&#39;t come easy! Not only when singing the blues, but for pretty much everything else as well. I found that out first-hand.">
<title>ESP8266: &quot;It don&#39;t come easy!&quot; | XESS Corp.</title>
<link rel="shortcut icon" href="../../static/img/xess.ico?v=2">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400&subset=latin,latin-ext' rel='stylesheet' type='text/css'>


<link rel="alternate" type="application/rss+xml" title="RSS" href="../feeds/rss/index.html">
<link rel="alternate" type="application/atom+xml" title="Atom" href="../feeds/atom/index.html">


<link rel="stylesheet" href="../../static/CACHE/css/ef03ed7fabaf.css" type="text/css" />

<script type="text/javascript" src="../../static/CACHE/js/1d575eb4744b.js"></script>
<!--[if lt IE 9]>
<script src="/static/js/html5shiv.js"></script>
<![endif]-->



<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-765812-5']);
  _gaq.push(['_setSiteSpeedSampleRate', 50]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>
<body id="body">

<div class="navbar navbar-fixed-top">
<div class="navbar-inner">
<div class="container">
    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </a>
    <a href="../../index.html"><img class="logo" src="../../static/img/xess-logo-3.png"></a>
    <!--
    <a class="brand" href="/">XESS Corp.</a>
    
    -->
    <div class="nav-collapse" style="position: relative; top: 5px;">
        
<form action="http://www.xess.com/search/" class="navbar-search pull-right input-append">

<input class="search-query" placeholder="Search" type="text" name="q" value="">
<input type="submit" class="icon-search" value="">



<!-- <input type="submit" class="btn" value="Go!"> -->

</form>

        

<ul class="nav nav-collapse"><li class="" id="dropdown-menu-learn"><a href="../../index.html" class="btn">Home</a></li><!-- <li class="divider-vertical"></li> --><li class="dropdown"
                                id="dropdown-menu-learn"><a href="../../learn/index.html" class="dropdown-toggle active btn">
                                    Learn <span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li
                                    
                                        class="dropdown-submenu"
                                    
                                
                                
                                id="dropdown-menu-tutorials"><a href="../../tutorials/index.html">Tutorials</a></li><li
                                    
                                        class="dropdown-submenu"
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu-appnotes"><a href="../../appnotes/index.html">Application Notes</a></li><li
                                    
                                        class="dropdown-submenu"
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu-projects"><a href="../../design_examples.php">Design Examples</a><ul class="dropdown-menu"><li
                                    
                                        class="dropdown-submenu"
                                    
                                
                                
                                id="dropdown-menu--projects-"><a href="../../design_examples.php">XESS</a></li><li
                                    
                                        class="dropdown-submenu"
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu-projects-others-"><a href="../../projects/others/index.html">Others</a></li></ul></li><li
                                    
                                        class="dropdown-submenu"
                                    
                                
                                 
                                    style="border-top: 4px solid #ddd"
                                
                                id="dropdown-menu-manuals"><a href="../../manuals/index.html">Product Manuals</a><ul class="dropdown-menu"><li
                                    
                                
                                
                                id="dropdown-menu--manuals-"><a href="../../manuals/index.html">Active</a></li><li
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu--manuals-old-"><a href="../../manuals/old/index.html">Discontinued</a></li></ul></li><li
                                    
                                        class="dropdown-submenu"
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu-software"><a href="../../downloads.php">Software Tools</a><ul class="dropdown-menu"><li
                                    
                                        class="dropdown-submenu"
                                    
                                
                                
                                id="dropdown-menu--software-"><a href="../../downloads.php">XESS</a><ul class="dropdown-menu"><li
                                    
                                        class="dropdown-submenu"
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu--software-xess-old-"><a href="../../software/xess/old/index.html">Old</a></li></ul></li><li
                                    
                                        class="dropdown-submenu"
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu--software-others-"><a href="../../software/others/index.html">Others</a></li></ul></li></ul></li><!-- <li class="divider-vertical"></li> --><li class="dropdown"
                                id="dropdown-menu-store"><a href="../../store/index.html" class="dropdown-toggle active btn">
                                    Buy <span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li
                                    
                                
                                
                                id="dropdown-menu-store-fpga-boards"><a href="../../store/fpga-boards/index.html">FPGA Boards</a></li><li
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu-store-add-on-boards"><a href="../../store/add-on-boards/index.html">Add-On Boards</a></li><li
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu-store-miscellaneous"><a href="../../store/miscellaneous/index.html">Miscellaneous</a></li><li
                                    
                                
                                 
                                    style="border-top: 4px solid #ddd"
                                
                                id="dropdown-menu-store-distributors"><a href="../../distributors.php">Distributors</a></li><li
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu-store-purchasing-policies"><a href="../../store/purchasing-policies/index.html">Sales Policies</a></li><li
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu-store-discontinued"><a href="../../store/discontinued/index.html">Discontinued Products</a></li></ul></li><!-- <li class="divider-vertical"></li> --><li class="dropdown"
                                id="dropdown-menu-interact"><a href="../../interact/index.html" class="dropdown-toggle active btn">
                                    Interact <span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li
                                    
                                
                                 
                                    style="border-top: 4px solid #ddd"
                                
                                id="dropdown-menu--blog-category-announcements"><a href="../category/announcements">Announcements</a></li><li
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu--blog-"><a href="../index.html">Blog</a></li><li
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu-interact-rss-feeds"><a href="../../interact/rss-feeds/index.html">RSS Feeds</a></li><li
                                    
                                
                                 
                                    style="border-top: 4px solid #ddd"
                                
                                id="dropdown-menu-interact-contact"><a href="../../interact/contact/index.html">Contact</a></li><li
                                    
                                
                                 
                                    style="border-top: 1px solid #ddd"
                                
                                id="dropdown-menu--organizations-xess-"><a href="../../organizations/xess/index.html">About</a></li></ul></li><!-- <li class="divider-vertical"></li> --></ul>
    </div>
</div>
</div>
</div>

<div class="container">





<ul class="breadcrumb">
<li class="active">ESP8266: &quot;It don&#39;t come easy!&quot;</li>
</ul>

<h1>
ESP8266: &quot;It don&#39;t come easy!&quot;
</h1>

</div>

<div class="container">

<div class="row">

<!--
<div class="span2 left">
    
    <div class="panel tree">

<ul class="nav nav-list navlist-menu-level-0"><li class="
             
             
             "
      id="tree-menu-learn"><a href="/learn/">Learn</a><ul class="nav nav-list navlist-menu-level-1"><li class="
             
             
             "
      id="tree-menu---2"><a href="/-2">***menu-divider***</a></li></ul></li><li class="
             
             
             "
      id="tree-menu-store"><a href="/store/">Buy</a><ul class="nav nav-list navlist-menu-level-1"><li class="
             
              first
             "
      id="tree-menu-store-fpga-boards"><a href="/store/fpga-boards/">FPGA Boards</a></li><li class="
             
             
             "
      id="tree-menu-store-add-on-boards"><a href="/store/add-on-boards/">Add-On Boards</a></li><li class="
             
             
             "
      id="tree-menu-store-miscellaneous"><a href="/store/miscellaneous/">Miscellaneous</a></li><li class="
             
             
             "
      id="tree-menu--"><a href="/">***menu-divider***</a></li><li class="
             
             
             "
      id="tree-menu-store-distributors"><a href="/store/distributors/">Distributors</a></li><li class="
             
             
             "
      id="tree-menu-store-purchasing-policies"><a href="/store/purchasing-policies/">Sales Policies</a></li><li class="
             
             
              last"
      id="tree-menu-store-discontinued"><a href="/store/discontinued/">Discontinued Products</a></li></ul></li><li class="
             
             
              last"
      id="tree-menu-interact"><a href="/interact/">Interact</a><ul class="nav nav-list navlist-menu-level-1"><li class="
             
              first
             "
      id="tree-menu---3"><a href="/-3">***menu-divider***</a></li><li class="
             
             
             "
      id="tree-menu--blog-category-announcements"><a href="/blog/category/announcements">Announcements</a></li><li class="
             
             
             "
      id="tree-menu--blog-"><a href="/blog/">Blog</a></li><li class="
             
             
             "
      id="tree-menu-interact-rss-feeds"><a href="/interact/rss-feeds/">RSS Feeds</a></li><li class="
             
             
             "
      id="tree-menu---1"><a href="/-1">***menu-divider***</a></li><li class="
             
             
             "
      id="tree-menu-interact-contact"><a href="/interact/contact/">Contact</a></li><li class="
             
             
              last"
      id="tree-menu--organizations-xess-"><a href="/organizations/xess/">About</a></li></ul></li></ul>
</div>
    
</div>
-->

<!-- <div class="span7 middle"> -->
<div class="span9 middle">

    <!-- This is a section that shows up on product pages with pictures, features, price, quantity, etc. -->
    <div class="container">
        <div class="row">
            <div class="span4 left">
                
            </div>
            <div class="span5 right">
                <div class="container">
                    <div class="row">
                        <div class="span3 left">
                            
                        </div>
                        <div class="span2">
                            <div class="row">
                                
                            </div>
                            <div class="row">
                                
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="span5 left">
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- This is the main content block. -->
    



<h6>
    Posted by:
    
    <a href="../author/devbisme/index.html">Dave Vandenbout</a>
    
    5 years, 8 months ago
</h6>



<p>
    
        (<a href="index.html#comments">2 comments</a>)
        
    
</p>










<p><img class="thumbnail-it float-it-left" src="http://news.upperplayground.com/wp-content/uploads/2010/07/e03365af2905x598.jpg.jpg"> Nobody ever accused Ringo of being the smartest Beatle, but he sure nailed that particular bit of philosophy: It don't come easy! Not only when singing the blues, but for pretty much everything else as well. I found that out first-hand.</p>
<p>After <a href="../esp8266-lets-get-physical/index.html">building my ESP8266 protoboard</a>, my next task was to recompile the VHDL of the ZPUino to add another serial port for communicating with the Wifi module. The microcontroller core in the ZPUino can be augmented with <a href="http://en.wikipedia.org/wiki/Wishbone_(computer_bus)">Wishbone</a>-compatible peripherals that communicate with the core through a set of sixteen <em>slots</em>. One slot is already occupied by a UART that's used to talk to the ZPUino IDE running on the PC, so it was just a matter of instantiating another UART in an empty slot. Easy enough.</p>
<p>Once the ZPUino VHDL was recompiled and downloaded to the XuLA board, it was all down to the programming. Getting access to the second serial port requires a single declaration:</p>
<pre><code>HardwareSerial esp8266(2);  // Find the second UART attached to the ESP8266 module.
</code></pre>
<p>This causes the ZPUino to scan through the sixteen slots and query the identifier of every device it finds. Once it finds the second UART, it maps the register address space of the device to the <code>esp8266</code> object.</p>
<p>The ZPUino also supports a feature called <em>Peripheral Pin Select</em> (PPS). This allows the assignment in software of a peripheral's I/O signals to any of the physical I/O pins of the ZPUino. Connecting the transmit and receive pins of the UART to the receive and transmit pins of the ESP8266 module is done like this:</p>
<pre><code>esp8266.begin(115200, TX(3), RX(17)); // Set bit-rate and assign transmit and receive pins.
</code></pre>
<p>(I had previously mapped-out that I/O pins 3 and 17 of the ZPUino exited the XuLA board, traversed the StickIt! board, exited through the PM2 connector, entered my protoboard, and terminated on the serial receive and transmit pins of the ESP8266 module.)</p>
<p>I made these small changes to an <a href="http://dunarbin.com/esp8266/retroBrowser.ino">existing program</a> that uses the ESP8266 module to <a href="http://hackaday.io/project/3072/instructions">load a version of the hackaday website</a>. I compiled and downloaded the program to my ZPUino and ...</p>
<p>Nothing.</p>
<p>OK, it was unreasonable to expect that was going to work. So I started tracing out the problems. First, I needed to make sure the PPS mapping was OK. I attached an LED to the FPGA pin that outputs the serial datastream to the ESP8266 module. It came on, which is good because that shows the output is active. (If I had messed up the PPS assignment, the pin would have been in a high-impedance mode and the LED would have been off.)</p>
<p>Next, I slowed the tranmission rate from 115200 down to 300 bits per second. That would allow me to see the LED flickering as the serial data was transmitted. Unfortunately, the LED stayed on solidly when I executed the program. So the program wasn't accessing the second serial port.</p>
<p>With the help of some ZPUino library routines that check the status of devices, I found the second serial port wasn't getting assigned and its register space wasn't mapped. Poking through the library code, I found an error that skipped any duplicate device after the first had been mapped. Since the ESP8266 serial port was the second UART, it was just ignored.</p>
<p>After correcting my copy of the library (and filing a bug report with the ZPUino's author), I recompiled the program and ...</p>
<p>Success! The LED flickered, showing that serial data was getting to the ESP8266 module.</p>
<p>Restoring the transmission rate back to 115200 bps and executing the program again brought some results that resembled my <a href="../esp8266-is-alive/index.html">initial tests of the ESP8266 module using the C232HM cable</a>. The module reset and firmware version commands were eliciting the correct responses, but the connection to the website was still failing.</p>
<p>By echoing the commands back to the terminal on the PC, I could see the connection wasn't being made because the IP address and other pieces of information weren't getting inserted into the command strings. After running a few simple tests, I found the <code>String</code> class wasn't operating as it should: creation and concatenation operations were just returning empty strings. Looking through the library code again, I found the <code>realloc</code> subroutine was just a stub that always returned a NULL pointer. (This was probably a placeholder and the originator never got around to replacing it with something that functioned.) I wrote a naive implementation and sent another bug report.</p>
<p>Now when I recompiled and ran my code, the correct command strings were generated but it still wasn't connecting and was sometimes responding <code>Busy...</code> when commands were sent. At this point, I went to the <a href="http://www.esp8266.com">ESP8266 forum</a> to see if more experienced users had some wisdom. There I found mention of the <code>Busy...</code> prompt coming from the ESP8266, indicating it was still working on a previous operation and could not accept a new command string. I also saw that tying the reset, chip-select, and general-purpose I/O pins to 3.3V was thought to make the chip act more reliably.</p>
<p>So I went back and modified my protoboard to tie those pins high and then re-ran the program ...</p>
<p>No change. The same errors occurred.</p>
<p>At this point I couldn't figure out why some commands worked when I typed them in manually through the C232HM cable, but wouldn't work when the ZPUino sent the same commands (e.g., the <code>AT+CWLAP</code> for listing any in-range access points). The only difference was that I entered the commands much more <em>slowly</em>. So I modified my program to put a five-second delay between each command transmission and ran it ...</p>
<p>Success! It connected to the website and retrieved the HTML for the page. You can see a trace of the commands and responses <a href="https://gist.github.com/xesscorp/edc69d2aa3aed30c46f2#file-esp8266_connection_trace">here</a>.</p>
<p>Now it was just a matter of reducing the delays to their minimum values and removing any unneeded delays between commands. In the end, only three delays remained: a two-second delay before the access points were listed, a four-second delay after the Wifi connection was made, and a final two-second delay after establishing the TCP link to the website. The finished program can be seen <a href="https://gist.github.com/xesscorp/3f791cdec611db3eb400#file-esp8266-ino">here</a>.</p>
<p>I hope this helps some others get their ESP8266 modules working. Most of my problems were caused by the ZPUino libraries, but the ESP8266 is still finicky about how you talk to it. However, I was still able to get it to work with the stock firmware that came loaded on it. My next job is to update the firmware and see what effect that has.</p>
<p>Until then, take us out, Ringo!</p>
<iframe class="center-it" height="315" src="http://www.youtube.com/embed/bvEexTomE1I" width="560"></iframe>










<div class="panel rating">

<p id="rating-68">
    
    Current rating: 5
    
</p>


<form method="post" action="http://www.xess.com/rating/">
    
    <input type='hidden' name='csrfmiddlewaretoken' value='6b1VE9U0elkvk2ULdzSg74n8Zb3IQATQ' />
    
    <ul><li> <ul>
<li><label for="id_value_0"><input id="id_value_0" name="value" type="radio" value="1" /> 1</label></li>
<li><label for="id_value_1"><input id="id_value_1" name="value" type="radio" value="2" /> 2</label></li>
<li><label for="id_value_2"><input id="id_value_2" name="value" type="radio" value="3" /> 3</label></li>
<li><label for="id_value_3"><input id="id_value_3" name="value" type="radio" value="4" /> 4</label></li>
<li><label for="id_value_4"><input id="id_value_4" name="value" type="radio" value="5" /> 5</label></li>
</ul><input id="id_content_type" name="content_type" type="hidden" value="blog.blogpost" /><input id="id_object_pk" name="object_pk" type="hidden" value="68" /><input id="id_timestamp" name="timestamp" type="hidden" value="1593966807" /><input id="id_security_hash" name="security_hash" type="hidden" value="2f9c47eea5610301c09600c6ab0a3ea1c57e8f87" /></li></ul>
    <input type="submit" class="btn" value="Rate"
        onclick="return $(this.form).find('input:checked').length == 1;">
</form>


<br style="clear:both">

</div>




<a class="btn small primary share-twitter" target="_blank" href="http://twitter.com/home?status=http%3A//www.xess.com/blog/esp8266-it-dont-come-easy/%20ESP8266%3A%20%22It%20don%27t%20come%20easy%21%22">Share on Twitter</a>
<a class="btn small primary share-facebook" target="_blank" href="http://facebook.com/sharer.php?u=http://www.xess.com/blog/esp8266-it-dont-come-easy/&amp;t=ESP8266%3A%20%22It%20don%27t%20come%20easy%21%22">Share on Facebook</a>
<a class="btn small primary share-reddit" target="_blank" href="http://www.reddit.com/submit" onclick="window.location = 'http://www.reddit.com/submit?url=' + encodeURIComponent(window.location); return false">Share on Reddit</a>



<ul class="pager">


<li class="previous">
    <a href="../esp8266-lets-get-physical/index.html">&larr; ESP8266: Let&#39;s Get Physical!</a>
</li>




<li class="next">
    <a href="../necessity-is-a-mother/index.html">Necessity is a Mother... &rarr;</a>
</li>


</ul>








<div id="comments">
<h3>Comments</h3>

<script>
$(function() {
    $('.reply').click(function() {
        $('.reply-form').hide();
        $(this).next('.reply-form').toggle();
    });
});
</script>
<style>.input_id_honeypot {display:none !important;}</style>


<ul class="unstyled">
    

    <li id="comment-208"
        >
        
        

        <strong>
            
            <img src="http://www.gravatar.com/avatar/2559c8336067c3e8838576961438ed40?s=32&amp;d=identicon&amp;r=PG">
            Francois Charbonneau
            
        </strong>
        <span class="timespan">5 years, 5 months ago</span>
        <p>Hello Dave,<br /><br />Great post, as usual! I am trying to replicate some of your steps for a different purpose but I still need to get the UART to work and it seems I&#39;m running into very similar issues. Would you care to elaborate on the bugs you found inside the ZPUino libraries. I&#39;m digging through it at this very moment and I have a feeling it might be the same exact problem, I just haven&#39;t found it yet.<br /><br />Thanks</p>

        <a href="index.html#comment-208">Link</a> /
        <a href="index.html#reply-208" class="reply">Reply</a>
        <form class="reply-form" method="post" id="reply-208"
            action="http://www.xess.com/comment/#reply-208"
            style="display:none;">
            
            




<input type="hidden" name="referrer" value="http://www.xess.com/blog/archive/2014/12/">
<input type='hidden' name='csrfmiddlewaretoken' value='6b1VE9U0elkvk2ULdzSg74n8Zb3IQATQ' />




<input id="id_content_type" name="content_type" type="hidden" value="blog.blogpost" />



<input id="id_object_pk" name="object_pk" type="hidden" value="68" />



<input id="id_timestamp" name="timestamp" type="hidden" value="1593966807" />



<input id="id_security_hash" name="security_hash" type="hidden" value="2f9c47eea5610301c09600c6ab0a3ea1c57e8f87" />



<div class="control-group input_id_name 
    ">
    <label class="control-label" for="id_name">
        Name
    </label>
    <div class="controls">
        <input id="id_name" maxlength="50" name="name" type="text" />
        
        <span class="help-inline">required</span>
        
    </div>
</div>



<div class="control-group input_id_email 
    ">
    <label class="control-label" for="id_email">
        Email
    </label>
    <div class="controls">
        <input id="id_email" name="email" type="text" />
        
        <span class="help-inline">required (not published)</span>
        
    </div>
</div>



<div class="control-group input_id_url 
    ">
    <label class="control-label" for="id_url">
        Website
    </label>
    <div class="controls">
        <input id="id_url" name="url" type="text" />
        
        <span class="help-inline">optional</span>
        
    </div>
</div>



<div class="control-group input_id_comment 
    ">
    <label class="control-label" for="id_comment">
        Comment
    </label>
    <div class="controls">
        <textarea cols="40" id="id_comment" name="comment" rows="10">
</textarea>
        
        <span class="help-inline"></span>
        
    </div>
</div>



<div class="control-group input_id_honeypot 
    ">
    <label class="control-label" for="id_honeypot">
        If you enter anything in this field your comment will be treated as spam
    </label>
    <div class="controls">
        <input id="id_honeypot" name="honeypot" type="text" />
        
        <span class="help-inline"></span>
        
    </div>
</div>



            
            <input type="hidden" name="replied_to" value="208">
            <input class="btn btn-primary btn-large" type="submit" value="Reply">
        </form>

        
        
        
        

<ul class="unstyled">
    
    
</ul>


    </li>
    

    <li id="comment-209"
        class="comment-author">
        
        

        <strong>
            
            <img src="http://www.gravatar.com/avatar/14b5f0d9e68fbad88c585a366eb00f08?s=32&amp;d=identicon&amp;r=PG">
            Dave Vandenbout
            
        </strong>
        <span class="timespan">5 years, 5 months ago</span>
        <p>I found an error when I ran the following code. The second serial port never registers:<br /><br />HardwareSerial Serial(1);<br />HardwareSerial Serial1(2);<br /><br />The only way to register both serial ports is:<br /><br />HardwareSerial Serial(1);<br />HardwareSerial Serial1(1); // or HardwareSerial Serial1(0xff) also works.<br /><br /><br />I had another problem with creating strings. There was a problem with the memory allocation code.<br /><br /><br />I sent some potential fixes for these problems. You can look at them here: <a href="https://github.com/alvieboy/ZPUino/pull/16/commits" rel="nofollow">https://github.com/alvieboy/ZPUino/pull/16/commits</a></p>

        <a href="index.html#comment-209">Link</a> /
        <a href="index.html#reply-209" class="reply">Reply</a>
        <form class="reply-form" method="post" id="reply-209"
            action="http://www.xess.com/comment/#reply-209"
            style="display:none;">
            
            




<input type="hidden" name="referrer" value="http://www.xess.com/blog/archive/2014/12/">
<input type='hidden' name='csrfmiddlewaretoken' value='6b1VE9U0elkvk2ULdzSg74n8Zb3IQATQ' />




<input id="id_content_type" name="content_type" type="hidden" value="blog.blogpost" />



<input id="id_object_pk" name="object_pk" type="hidden" value="68" />



<input id="id_timestamp" name="timestamp" type="hidden" value="1593966807" />



<input id="id_security_hash" name="security_hash" type="hidden" value="2f9c47eea5610301c09600c6ab0a3ea1c57e8f87" />



<div class="control-group input_id_name 
    ">
    <label class="control-label" for="id_name">
        Name
    </label>
    <div class="controls">
        <input id="id_name" maxlength="50" name="name" type="text" />
        
        <span class="help-inline">required</span>
        
    </div>
</div>



<div class="control-group input_id_email 
    ">
    <label class="control-label" for="id_email">
        Email
    </label>
    <div class="controls">
        <input id="id_email" name="email" type="text" />
        
        <span class="help-inline">required (not published)</span>
        
    </div>
</div>



<div class="control-group input_id_url 
    ">
    <label class="control-label" for="id_url">
        Website
    </label>
    <div class="controls">
        <input id="id_url" name="url" type="text" />
        
        <span class="help-inline">optional</span>
        
    </div>
</div>



<div class="control-group input_id_comment 
    ">
    <label class="control-label" for="id_comment">
        Comment
    </label>
    <div class="controls">
        <textarea cols="40" id="id_comment" name="comment" rows="10">
</textarea>
        
        <span class="help-inline"></span>
        
    </div>
</div>



<div class="control-group input_id_honeypot 
    ">
    <label class="control-label" for="id_honeypot">
        If you enter anything in this field your comment will be treated as spam
    </label>
    <div class="controls">
        <input id="id_honeypot" name="honeypot" type="text" />
        
        <span class="help-inline"></span>
        
    </div>
</div>



            
            <input type="hidden" name="replied_to" value="209">
            <input class="btn btn-primary btn-large" type="submit" value="Reply">
        </form>

        
        
        
        

<ul class="unstyled">
    
    
</ul>


    </li>
    
    
</ul>


<h3>New Comment</h3>
<form method="post" id="comment" action="http://www.xess.com/comment/#comment">
    
    




<input type="hidden" name="referrer" value="http://www.xess.com/blog/archive/2014/12/">
<input type='hidden' name='csrfmiddlewaretoken' value='6b1VE9U0elkvk2ULdzSg74n8Zb3IQATQ' />




<input id="id_content_type" name="content_type" type="hidden" value="blog.blogpost" />



<input id="id_object_pk" name="object_pk" type="hidden" value="68" />



<input id="id_timestamp" name="timestamp" type="hidden" value="1593966807" />



<input id="id_security_hash" name="security_hash" type="hidden" value="2f9c47eea5610301c09600c6ab0a3ea1c57e8f87" />



<div class="control-group input_id_name 
    ">
    <label class="control-label" for="id_name">
        Name
    </label>
    <div class="controls">
        <input id="id_name" maxlength="50" name="name" type="text" />
        
        <span class="help-inline">required</span>
        
    </div>
</div>



<div class="control-group input_id_email 
    ">
    <label class="control-label" for="id_email">
        Email
    </label>
    <div class="controls">
        <input id="id_email" name="email" type="text" />
        
        <span class="help-inline">required (not published)</span>
        
    </div>
</div>



<div class="control-group input_id_url 
    ">
    <label class="control-label" for="id_url">
        Website
    </label>
    <div class="controls">
        <input id="id_url" name="url" type="text" />
        
        <span class="help-inline">optional</span>
        
    </div>
</div>



<div class="control-group input_id_comment 
    ">
    <label class="control-label" for="id_comment">
        Comment
    </label>
    <div class="controls">
        <textarea cols="40" id="id_comment" name="comment" rows="10">
</textarea>
        
        <span class="help-inline"></span>
        
    </div>
</div>



<div class="control-group input_id_honeypot 
    ">
    <label class="control-label" for="id_honeypot">
        If you enter anything in this field your comment will be treated as spam
    </label>
    <div class="controls">
        <input id="id_honeypot" name="honeypot" type="text" />
        
        <span class="help-inline"></span>
        
    </div>
</div>



    
    <div class="form-actions">
        <input class="btn btn-primary btn-large" type="submit" value="Comment">
    </div>
</form>

</div>




    
</div>

<div class="span3 right">
    
    
<div class="panel">
    <a href="../../shop/cart/index.html">
    0 items
    in cart:
    $0.00</a><br><br><a href="../../accounts/login/index.html?next=%252Fblog%252Fesp8266-it-dont-come-easy%252F"
        class="btn btn-small btn-account">Log in</a>
    or
    <a href="../../account/signup/index.html?next=%252Fblog%252Fesp8266-it-dont-come-easy%252F"
        class="btn btn-small btn-account">Sign up</a>
</div>

    
    <div class="panel">
    





<h3>Recent Posts</h3>
<ul class="unstyled recent-posts">

<li><a href="../are-you-in-an-abusive-relationship-with-your-schematic-editor/index.html"
    >Are You In An Abusive Relationship With Your Schematic Editor?</a></li>

<li><a href="../walk-in-walk-out/index.html"
    >Walk In, Walk Out</a></li>

<li><a href="../colossus-al/index.html"
    >Colossus-al!</a></li>

<li><a href="../extinction-level-event/index.html"
    >Extinction Level Event</a></li>

<li><a href="../esp8266-re-reflash-dance/index.html"
    >ESP8266: Re-Reflash Dance!</a></li>

</ul>






<h3>Archive</h3>

    
        
        <h6>2016</h6><ul class="unstyled">
    
    <li><a href="../archive/2016/9/index.html"
        >September</a> (1)</li>

    
    <li><a href="../archive/2016/6/index.html"
        >June</a> (2)</li>

    
    <li><a href="../archive/2016/5/index.html"
        >May</a> (1)</li>

    
    <li><a href="../archive/2016/3/index.html"
        >March</a> (1)</li>

    
    <li><a href="../archive/2016/2/index.html"
        >February</a> (1)</li>

    
        </ul>
        <h6>2015</h6><ul class="unstyled">
    
    <li><a href="../archive/2015/8/index.html"
        >August</a> (1)</li>

    
    <li><a href="../archive/2015/7/index.html"
        >July</a> (1)</li>

    
    <li><a href="../archive/2015/6/index.html"
        >June</a> (1)</li>

    
    <li><a href="../archive/2015/5/index.html"
        >May</a> (2)</li>

    
    <li><a href="../archive/2015/4/index.html"
        >April</a> (1)</li>

    
    <li><a href="../archive/2015/3/index.html"
        >March</a> (1)</li>

    
    <li><a href="../archive/2015/2/index.html"
        >February</a> (3)</li>

    
    <li><a href="../archive/2015/1/index.html"
        >January</a> (2)</li>

    
        </ul>
        <h6>2014</h6><ul class="unstyled">
    
    <li><a href="../archive/2014/12/index.html"
        >December</a> (2)</li>

    
    <li><a href="../archive/2014/11/index.html"
        >November</a> (1)</li>

    
    <li><a href="../archive/2014/10/index.html"
        >October</a> (4)</li>

    
    <li><a href="../archive/2014/7/index.html"
        >July</a> (1)</li>

    
    <li><a href="../archive/2014/6/index.html"
        >June</a> (2)</li>

    
    <li><a href="../archive/2014/5/index.html"
        >May</a> (1)</li>

    
    <li><a href="../archive/2014/4/index.html"
        >April</a> (1)</li>

    
    <li><a href="../archive/2014/3/index.html"
        >March</a> (3)</li>

    
    <li><a href="../archive/2014/2/index.html"
        >February</a> (1)</li>

    
    <li><a href="../archive/2014/1/index.html"
        >January</a> (1)</li>

    
        </ul>
        <h6>2013</h6><ul class="unstyled">
    
    <li><a href="../archive/2013/10/index.html"
        >October</a> (1)</li>

    
    <li><a href="../archive/2013/9/index.html"
        >September</a> (2)</li>

    
    <li><a href="../archive/2013/2/index.html"
        >February</a> (2)</li>

    
    <li><a href="../archive/2013/1/index.html"
        >January</a> (1)</li>

    
        </ul>
        <h6>2012</h6><ul class="unstyled">
    
    <li><a href="../archive/2012/10/index.html"
        >October</a> (2)</li>

    
    <li><a href="../archive/2012/8/index.html"
        >August</a> (2)</li>

    
    <li><a href="../archive/2012/7/index.html"
        >July</a> (3)</li>

    
    <li><a href="../archive/2012/6/index.html"
        >June</a> (1)</li>

    
    <li><a href="../archive/2012/5/index.html"
        >May</a> (1)</li>

    
    <li><a href="../archive/2012/4/index.html"
        >April</a> (2)</li>

    
    <li><a href="../archive/2012/3/index.html"
        >March</a> (1)</li>

    
    <li><a href="../archive/2012/1/index.html"
        >January</a> (1)</li>

    
        </ul>
        <h6>2011</h6><ul class="unstyled">
    
    <li><a href="../archive/2011/12/index.html"
        >December</a> (4)</li>

    
    <li><a href="../archive/2011/11/index.html"
        >November</a> (1)</li>

    
    <li><a href="../archive/2011/10/index.html"
        >October</a> (2)</li>

    
    <li><a href="../archive/2011/9/index.html"
        >September</a> (2)</li>

    
    <li><a href="../archive/2011/8/index.html"
        >August</a> (1)</li>

    
    <li><a href="../archive/2011/7/index.html"
        >July</a> (2)</li>

    
    <li><a href="../archive/2011/6/index.html"
        >June</a> (5)</li>

    
    <li><a href="../archive/2011/5/index.html"
        >May</a> (1)</li>

</ul>






<h3>Categories</h3>
<ul class="unstyled">

<li><a href="../category/announcements"
    >Announcements</a> (3)</li>

<li><a href="../category/blog-post/index.html"
    >Blog Post</a> (69)</li>

</ul>











<h3>Authors</h3>
<ul class="unstyled">

    <li><a href="../author/devbisme/index.html"
        >Dave Vandenbout</a>
        (72)</li>

</ul>




<h3>Feeds</h3>




    <a href="../feeds/rss/index.html">RSS</a> /
    <a href="../feeds/atom/index.html">Atom</a>




    </div>
</div>

</div>
</div>

<footer>
<div class="container">
<!-- 

<ul class="clearfix"><li><ul><li 
            id="footer-menu-learn"><a href="/learn/">Learn</a></li><li 
            id="footer-menu---2"><a href="/-2">***menu-divider***</a></li></ul></li><li><ul><li 
            id="footer-menu-store"><a href="/store/">Buy</a></li><li 
            id="footer-menu-store-fpga-boards"><a href="/store/fpga-boards/">FPGA Boards</a></li><li 
            id="footer-menu-store-add-on-boards"><a href="/store/add-on-boards/">Add-On Boards</a></li><li 
            id="footer-menu-store-miscellaneous"><a href="/store/miscellaneous/">Miscellaneous</a></li><li 
            id="footer-menu--"><a href="/">***menu-divider***</a></li><li 
            id="footer-menu-store-distributors"><a href="/store/distributors/">Distributors</a></li><li 
            id="footer-menu-store-purchasing-policies"><a href="/store/purchasing-policies/">Sales Policies</a></li><li 
            id="footer-menu-store-discontinued"><a href="/store/discontinued/">Discontinued Products</a></li></ul></li><li><ul><li 
            id="footer-menu-interact"><a href="/interact/">Interact</a></li><li 
            id="footer-menu---3"><a href="/-3">***menu-divider***</a></li><li 
            id="footer-menu--blog-category-announcements"><a href="/blog/category/announcements">Announcements</a></li><li 
            id="footer-menu--blog-"><a href="/blog/">Blog</a></li><li 
            id="footer-menu-interact-rss-feeds"><a href="/interact/rss-feeds/">RSS Feeds</a></li><li 
            id="footer-menu---1"><a href="/-1">***menu-divider***</a></li><li 
            id="footer-menu-interact-contact"><a href="/interact/contact/">Contact</a></li><li 
            id="footer-menu--organizations-xess-"><a href="/organizations/xess/">About</a></li></ul></li></ul>
 -->
<p>
    <a href="mailto:webmaster@xess.com">webmaster@xess.com</a>
    <span class="separator">|</span>
    &copy; 2013 by XESS Corp. All rights reserved.
    
</p>
</div>
</footer>








<script>

var _gaq = _gaq || [['_trackPageview']];
_gaq.unshift(['_setAccount', 'UA-765812-5']);
(function(d, t) {
    var g = d.createElement(t),
        s = d.getElementsByTagName(t)[0];
    g.async = true;
    g.src = '//www.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g, s);
})(document, 'script');


// This is for rendering digital waveforms.
(function(){ window.addEventListener("load", WaveDrom.ProcessAll, false); })();

// This is for drop-down menus.
$('ul.nav li.dropdown').hover(function() {
    $(this).closest('.dropdown-menu').stop(true, true).show();
    $(this).addClass('open'); 
} , function() { 
    $(this).closest('.dropdown-menu').stop(true, true).hide(); 
    $(this).removeClass('open'); 
});
</script>


</body>
</html>
